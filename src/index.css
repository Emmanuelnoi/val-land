@import url('https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Lexend:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply box-border;
  }

  body {
    @apply bg-cream-50 text-ink-500 font-sans antialiased;
    text-rendering: optimizeLegibility;
    font-feature-settings: "ss01" 1, "cv02" 1;
    -webkit-tap-highlight-color: var(--accent-soft-muted);
  }

  h1, h2, h3, h4 {
    @apply font-display text-ink-500;
    letter-spacing: -0.01em;
  }

  ::selection {
    background: var(--accent-border-strong);
  }

  :root {
    --accent-1: #f05d88;
    --accent-2: #ff90b3;
    --accent-3: #d94873;
    --accent-text: #d94873;
    --accent-text-strong: #b43a5e;
    --accent-muted: #ff90b3;
    --accent-soft: #fff0f5;
    --accent-soft-strong: #ffdbe7;
    --accent-soft-muted: rgba(255, 240, 245, 0.6);
    --accent-soft-faint: rgba(255, 240, 245, 0.5);
    --accent-border: #ffdbe7;
    --accent-border-strong: #ffb9cf;
    --accent-border-muted: rgba(255, 219, 231, 0.8);
    --accent-icon: #f05d88;
    --focus-ring: #ffb9cf;
    --chip-bg: rgba(255, 255, 255, 0.8);
    --chip-border: rgba(255, 200, 215, 0.6);
    --chip-text: #d94873;
    --card-border-1: rgba(255, 180, 205, 0.6);
    --card-border-2: rgba(255, 235, 215, 0.6);
    --bg-romance-r1: rgba(255, 208, 225, 0.35);
    --bg-romance-r2: rgba(255, 228, 210, 0.25);
    --bg-romance-g1: rgba(255, 250, 246, 0.98);
    --bg-romance-g2: rgba(255, 238, 246, 0.94);
    --bg-romance-g3: rgba(255, 246, 236, 0.96);
    --bg-sparkles-r1: rgba(255, 200, 224, 0.3);
    --bg-sparkles-r2: rgba(255, 230, 210, 0.26);
    --bg-sparkles-g1: rgba(255, 251, 248, 0.98);
    --bg-sparkles-g2: rgba(255, 240, 248, 0.95);
    --bg-sparkles-g3: rgba(255, 248, 238, 0.98);
  }

  [data-theme="sunset-gold"] {
    --accent-1: #c95a3c;
    --accent-2: #f8c777;
    --accent-3: #5b2a3c;
    --accent-text: #b14b31;
    --accent-text-strong: #5b2a3c;
    --accent-muted: #d18b70;
    --accent-soft: #fff3ea;
    --accent-soft-strong: #ffe4d1;
    --accent-soft-muted: rgba(255, 243, 234, 0.6);
    --accent-soft-faint: rgba(255, 243, 234, 0.5);
    --accent-border: #ffd6b8;
    --accent-border-strong: #ffc399;
    --accent-border-muted: rgba(255, 214, 184, 0.8);
    --accent-icon: #c95a3c;
    --focus-ring: #f8c777;
    --chip-bg: rgba(255, 255, 255, 0.86);
    --chip-border: rgba(240, 210, 185, 0.65);
    --chip-text: #8f3d2a;
    --card-border-1: rgba(235, 180, 145, 0.58);
    --card-border-2: rgba(255, 226, 190, 0.56);
    --bg-romance-r1: rgba(245, 197, 154, 0.35);
    --bg-romance-r2: rgba(230, 170, 145, 0.3);
    --bg-romance-g1: rgba(255, 251, 246, 0.98);
    --bg-romance-g2: rgba(255, 240, 229, 0.95);
    --bg-romance-g3: rgba(255, 246, 238, 0.98);
    --bg-sparkles-r1: rgba(245, 205, 170, 0.3);
    --bg-sparkles-r2: rgba(232, 180, 160, 0.26);
    --bg-sparkles-g1: rgba(255, 252, 247, 0.98);
    --bg-sparkles-g2: rgba(255, 243, 233, 0.96);
    --bg-sparkles-g3: rgba(255, 247, 240, 0.98);
  }

  [data-theme="peach-cream"] {
    --accent-1: #f7b38a;
    --accent-2: #fff2dd;
    --accent-3: #a66a4d;
    --accent-text: #b37358;
    --accent-text-strong: #8d5842;
    --accent-muted: #d6a183;
    --accent-soft: #fff8f0;
    --accent-soft-strong: #ffeede;
    --accent-soft-muted: rgba(255, 248, 240, 0.62);
    --accent-soft-faint: rgba(255, 248, 240, 0.52);
    --accent-border: #ffd9bf;
    --accent-border-strong: #ffc7a9;
    --accent-border-muted: rgba(255, 217, 191, 0.8);
    --accent-icon: #f7b38a;
    --focus-ring: #f7d2b6;
    --chip-bg: rgba(255, 255, 255, 0.9);
    --chip-border: rgba(242, 220, 205, 0.65);
    --chip-text: #a66a4d;
    --card-border-1: rgba(245, 198, 168, 0.55);
    --card-border-2: rgba(255, 236, 215, 0.6);
    --bg-romance-r1: rgba(255, 214, 186, 0.36);
    --bg-romance-r2: rgba(242, 203, 170, 0.3);
    --bg-romance-g1: rgba(255, 252, 248, 0.98);
    --bg-romance-g2: rgba(255, 246, 236, 0.95);
    --bg-romance-g3: rgba(255, 250, 244, 0.98);
    --bg-sparkles-r1: rgba(255, 221, 198, 0.3);
    --bg-sparkles-r2: rgba(245, 210, 185, 0.26);
    --bg-sparkles-g1: rgba(255, 252, 248, 0.98);
    --bg-sparkles-g2: rgba(255, 247, 239, 0.96);
    --bg-sparkles-g3: rgba(255, 251, 246, 0.98);
  }

  [data-theme="birthday-neutral"] {
    --accent-1: #ff8a5b;
    --accent-2: #ffd166;
    --accent-3: #ff6b6b;
    --accent-text: #e0663a;
    --accent-text-strong: #b84a2b;
    --accent-muted: #ffab7a;
    --accent-soft: #fff3e8;
    --accent-soft-strong: #ffe0cf;
    --accent-soft-muted: rgba(255, 243, 232, 0.6);
    --accent-soft-faint: rgba(255, 243, 232, 0.5);
    --accent-border: #ffd1bd;
    --accent-border-strong: #ffc1a6;
    --accent-border-muted: rgba(255, 209, 189, 0.8);
    --accent-icon: #ff8a5b;
    --focus-ring: #ffd166;
    --chip-bg: rgba(255, 255, 255, 0.84);
    --chip-border: rgba(255, 215, 190, 0.65);
    --chip-text: #e0663a;
    --card-border-1: rgba(255, 190, 160, 0.55);
    --card-border-2: rgba(255, 228, 190, 0.55);
    --bg-romance-r1: rgba(255, 214, 176, 0.35);
    --bg-romance-r2: rgba(255, 235, 200, 0.3);
    --bg-romance-g1: rgba(255, 252, 248, 0.98);
    --bg-romance-g2: rgba(255, 239, 230, 0.95);
    --bg-romance-g3: rgba(255, 246, 238, 0.98);
    --bg-sparkles-r1: rgba(255, 215, 190, 0.3);
    --bg-sparkles-r2: rgba(255, 236, 205, 0.26);
    --bg-sparkles-g1: rgba(255, 252, 248, 0.98);
    --bg-sparkles-g2: rgba(255, 242, 232, 0.96);
    --bg-sparkles-g3: rgba(255, 247, 238, 0.98);
  }

  [data-theme="birthday-men"] {
    --accent-1: #1f3b5f;
    --accent-2: #2f5aa6;
    --accent-3: #f2b03f;
    --accent-text: #2f5aa6;
    --accent-text-strong: #1f3b5f;
    --accent-muted: #6d8dc4;
    --accent-soft: #eef3fb;
    --accent-soft-strong: #dbe7f9;
    --accent-soft-muted: rgba(238, 243, 251, 0.6);
    --accent-soft-faint: rgba(238, 243, 251, 0.5);
    --accent-border: #cfdcf2;
    --accent-border-strong: #b8c9ec;
    --accent-border-muted: rgba(207, 220, 242, 0.8);
    --accent-icon: #2f5aa6;
    --focus-ring: #f2b03f;
    --chip-bg: rgba(255, 255, 255, 0.86);
    --chip-border: rgba(205, 220, 245, 0.65);
    --chip-text: #2f5aa6;
    --card-border-1: rgba(187, 204, 234, 0.55);
    --card-border-2: rgba(240, 220, 175, 0.45);
    --bg-romance-r1: rgba(203, 220, 245, 0.35);
    --bg-romance-r2: rgba(225, 236, 250, 0.3);
    --bg-romance-g1: rgba(250, 252, 255, 0.98);
    --bg-romance-g2: rgba(236, 244, 252, 0.95);
    --bg-romance-g3: rgba(245, 249, 255, 0.98);
    --bg-sparkles-r1: rgba(210, 226, 248, 0.3);
    --bg-sparkles-r2: rgba(232, 238, 250, 0.26);
    --bg-sparkles-g1: rgba(250, 252, 255, 0.98);
    --bg-sparkles-g2: rgba(238, 244, 252, 0.96);
    --bg-sparkles-g3: rgba(245, 249, 255, 0.98);
  }

  [data-theme="birthday-women"] {
    --accent-1: #f26a8d;
    --accent-2: #ffd1dc;
    --accent-3: #c85a84;
    --accent-text: #c85a84;
    --accent-text-strong: #a5476b;
    --accent-muted: #f3a4b8;
    --accent-soft: #fff1f4;
    --accent-soft-strong: #ffe0e8;
    --accent-soft-muted: rgba(255, 241, 244, 0.6);
    --accent-soft-faint: rgba(255, 241, 244, 0.5);
    --accent-border: #ffd1dc;
    --accent-border-strong: #f8bfd0;
    --accent-border-muted: rgba(255, 209, 220, 0.8);
    --accent-icon: #f26a8d;
    --focus-ring: #ffd1dc;
    --chip-bg: rgba(255, 255, 255, 0.86);
    --chip-border: rgba(255, 209, 220, 0.65);
    --chip-text: #c85a84;
    --card-border-1: rgba(248, 191, 208, 0.55);
    --card-border-2: rgba(255, 228, 235, 0.6);
    --bg-romance-r1: rgba(255, 214, 224, 0.35);
    --bg-romance-r2: rgba(255, 235, 242, 0.3);
    --bg-romance-g1: rgba(255, 251, 252, 0.98);
    --bg-romance-g2: rgba(255, 239, 245, 0.95);
    --bg-romance-g3: rgba(255, 246, 250, 0.98);
    --bg-sparkles-r1: rgba(255, 216, 228, 0.3);
    --bg-sparkles-r2: rgba(255, 234, 243, 0.26);
    --bg-sparkles-g1: rgba(255, 251, 252, 0.98);
    --bg-sparkles-g2: rgba(255, 242, 247, 0.96);
    --bg-sparkles-g3: rgba(255, 247, 251, 0.98);
  }

  [data-theme="birthday-neon"] {
    --accent-1: #1b2a69;
    --accent-2: #ff4fb8;
    --accent-3: #28d7ff;
    --accent-text: #2f3f88;
    --accent-text-strong: #1b2a69;
    --accent-muted: #7e7cff;
    --accent-soft: #f1f3ff;
    --accent-soft-strong: #e3e8ff;
    --accent-soft-muted: rgba(241, 243, 255, 0.62);
    --accent-soft-faint: rgba(241, 243, 255, 0.52);
    --accent-border: #cfd6ff;
    --accent-border-strong: #bec8ff;
    --accent-border-muted: rgba(207, 214, 255, 0.8);
    --accent-icon: #ff4fb8;
    --focus-ring: #ff4fb8;
    --chip-bg: rgba(255, 255, 255, 0.88);
    --chip-border: rgba(210, 216, 255, 0.65);
    --chip-text: #3f44a8;
    --card-border-1: rgba(182, 192, 252, 0.55);
    --card-border-2: rgba(255, 182, 228, 0.5);
    --bg-romance-r1: rgba(190, 202, 255, 0.35);
    --bg-romance-r2: rgba(255, 196, 235, 0.3);
    --bg-romance-g1: rgba(250, 251, 255, 0.98);
    --bg-romance-g2: rgba(240, 244, 255, 0.95);
    --bg-romance-g3: rgba(249, 246, 255, 0.98);
    --bg-sparkles-r1: rgba(205, 216, 255, 0.3);
    --bg-sparkles-r2: rgba(255, 206, 240, 0.26);
    --bg-sparkles-g1: rgba(250, 251, 255, 0.98);
    --bg-sparkles-g2: rgba(242, 245, 255, 0.96);
    --bg-sparkles-g3: rgba(249, 247, 255, 0.98);
  }

  [data-theme="red"] {
    --accent-1: #8f1d2c;
    --accent-2: #d75c44;
    --accent-3: #4f0e1d;
    --accent-text: #b53a2d;
    --accent-text-strong: #7a1623;
    --accent-muted: #d08376;
    --accent-soft: #fff2f1;
    --accent-soft-strong: #ffe1de;
    --accent-soft-muted: rgba(255, 242, 241, 0.6);
    --accent-soft-faint: rgba(255, 242, 241, 0.5);
    --accent-border: #ffd2cc;
    --accent-border-strong: #ffbdb5;
    --accent-border-muted: rgba(255, 210, 204, 0.8);
    --accent-icon: #8f1d2c;
    --focus-ring: #d75c44;
    --chip-bg: rgba(255, 255, 255, 0.86);
    --chip-border: rgba(235, 200, 195, 0.65);
    --chip-text: #8f1d2c;
    --card-border-1: rgba(220, 170, 160, 0.55);
    --card-border-2: rgba(255, 225, 220, 0.6);
    --bg-romance-r1: rgba(255, 200, 195, 0.35);
    --bg-romance-r2: rgba(255, 225, 215, 0.3);
    --bg-romance-g1: rgba(255, 251, 250, 0.98);
    --bg-romance-g2: rgba(255, 240, 238, 0.95);
    --bg-romance-g3: rgba(255, 247, 244, 0.98);
    --bg-sparkles-r1: rgba(255, 205, 200, 0.3);
    --bg-sparkles-r2: rgba(255, 228, 220, 0.26);
    --bg-sparkles-g1: rgba(255, 251, 250, 0.98);
    --bg-sparkles-g2: rgba(255, 242, 240, 0.96);
    --bg-sparkles-g3: rgba(255, 247, 244, 0.98);
  }

  [data-theme="orange"] {
    --accent-1: #e26a1c;
    --accent-2: #ffc48a;
    --accent-3: #8a3a0f;
    --accent-text: #c35316;
    --accent-text-strong: #7a2f0c;
    --accent-muted: #e2a06a;
    --accent-soft: #fff3e7;
    --accent-soft-strong: #ffe0c6;
    --accent-soft-muted: rgba(255, 243, 231, 0.6);
    --accent-soft-faint: rgba(255, 243, 231, 0.5);
    --accent-border: #ffd4ac;
    --accent-border-strong: #ffc08c;
    --accent-border-muted: rgba(255, 212, 172, 0.8);
    --accent-icon: #e26a1c;
    --focus-ring: #ffc48a;
    --chip-bg: rgba(255, 255, 255, 0.86);
    --chip-border: rgba(235, 205, 180, 0.65);
    --chip-text: #8a3a0f;
    --card-border-1: rgba(235, 190, 150, 0.55);
    --card-border-2: rgba(255, 228, 200, 0.6);
    --bg-romance-r1: rgba(255, 210, 180, 0.35);
    --bg-romance-r2: rgba(255, 232, 210, 0.3);
    --bg-romance-g1: rgba(255, 251, 246, 0.98);
    --bg-romance-g2: rgba(255, 242, 231, 0.95);
    --bg-romance-g3: rgba(255, 248, 238, 0.98);
    --bg-sparkles-r1: rgba(255, 216, 190, 0.3);
    --bg-sparkles-r2: rgba(255, 236, 210, 0.26);
    --bg-sparkles-g1: rgba(255, 252, 246, 0.98);
    --bg-sparkles-g2: rgba(255, 244, 234, 0.96);
    --bg-sparkles-g3: rgba(255, 249, 240, 0.98);
  }

  [data-theme="yellow"] {
    --accent-1: #d9931a;
    --accent-2: #ffe3a3;
    --accent-3: #9a5d12;
    --accent-text: #b67216;
    --accent-text-strong: #7d4a10;
    --accent-muted: #e0b465;
    --accent-soft: #fff7e3;
    --accent-soft-strong: #ffebc2;
    --accent-soft-muted: rgba(255, 247, 227, 0.6);
    --accent-soft-faint: rgba(255, 247, 227, 0.5);
    --accent-border: #ffe0a8;
    --accent-border-strong: #ffd08b;
    --accent-border-muted: rgba(255, 224, 168, 0.8);
    --accent-icon: #d9931a;
    --focus-ring: #ffe3a3;
    --chip-bg: rgba(255, 255, 255, 0.86);
    --chip-border: rgba(235, 215, 175, 0.65);
    --chip-text: #9a5d12;
    --card-border-1: rgba(235, 205, 150, 0.55);
    --card-border-2: rgba(255, 235, 200, 0.6);
    --bg-romance-r1: rgba(255, 225, 180, 0.35);
    --bg-romance-r2: rgba(255, 238, 210, 0.3);
    --bg-romance-g1: rgba(255, 252, 246, 0.98);
    --bg-romance-g2: rgba(255, 244, 230, 0.95);
    --bg-romance-g3: rgba(255, 249, 240, 0.98);
    --bg-sparkles-r1: rgba(255, 230, 195, 0.3);
    --bg-sparkles-r2: rgba(255, 242, 217, 0.26);
    --bg-sparkles-g1: rgba(255, 252, 246, 0.98);
    --bg-sparkles-g2: rgba(255, 246, 235, 0.96);
    --bg-sparkles-g3: rgba(255, 250, 242, 0.98);
  }

  [data-theme="blue"] {
    --accent-1: #2f6fb5;
    --accent-2: #9bd3ff;
    --accent-3: #1b3458;
    --accent-text: #2f6fb5;
    --accent-text-strong: #1b3458;
    --accent-muted: #6fa2d9;
    --accent-soft: #eef6ff;
    --accent-soft-strong: #dbeaff;
    --accent-soft-muted: rgba(238, 246, 255, 0.6);
    --accent-soft-faint: rgba(238, 246, 255, 0.5);
    --accent-border: #cfe1ff;
    --accent-border-strong: #b6d3ff;
    --accent-border-muted: rgba(207, 225, 255, 0.8);
    --accent-icon: #2f6fb5;
    --focus-ring: #9bd3ff;
    --chip-bg: rgba(255, 255, 255, 0.86);
    --chip-border: rgba(200, 220, 245, 0.6);
    --chip-text: #2f6fb5;
    --card-border-1: rgba(185, 210, 238, 0.55);
    --card-border-2: rgba(225, 238, 252, 0.6);
    --bg-romance-r1: rgba(205, 225, 248, 0.35);
    --bg-romance-r2: rgba(225, 238, 252, 0.3);
    --bg-romance-g1: rgba(249, 252, 255, 0.98);
    --bg-romance-g2: rgba(236, 244, 252, 0.95);
    --bg-romance-g3: rgba(244, 249, 255, 0.98);
    --bg-sparkles-r1: rgba(210, 226, 248, 0.3);
    --bg-sparkles-r2: rgba(232, 241, 252, 0.26);
    --bg-sparkles-g1: rgba(250, 252, 255, 0.98);
    --bg-sparkles-g2: rgba(239, 245, 252, 0.96);
    --bg-sparkles-g3: rgba(246, 250, 255, 0.98);
  }

  [data-theme="green"] {
    --accent-1: #2f8f6b;
    --accent-2: #a7e2c3;
    --accent-3: #1f5b46;
    --accent-text: #2a775a;
    --accent-text-strong: #1f5b46;
    --accent-muted: #70b698;
    --accent-soft: #eefaf4;
    --accent-soft-strong: #d9f2e6;
    --accent-soft-muted: rgba(238, 250, 244, 0.6);
    --accent-soft-faint: rgba(238, 250, 244, 0.5);
    --accent-border: #c8e8d8;
    --accent-border-strong: #b0ddc8;
    --accent-border-muted: rgba(200, 232, 216, 0.8);
    --accent-icon: #2f8f6b;
    --focus-ring: #a7e2c3;
    --chip-bg: rgba(255, 255, 255, 0.86);
    --chip-border: rgba(195, 225, 210, 0.6);
    --chip-text: #2f8f6b;
    --card-border-1: rgba(175, 215, 195, 0.55);
    --card-border-2: rgba(225, 242, 234, 0.6);
    --bg-romance-r1: rgba(200, 235, 220, 0.35);
    --bg-romance-r2: rgba(225, 243, 235, 0.3);
    --bg-romance-g1: rgba(248, 252, 250, 0.98);
    --bg-romance-g2: rgba(235, 246, 241, 0.95);
    --bg-romance-g3: rgba(243, 250, 246, 0.98);
    --bg-sparkles-r1: rgba(205, 235, 223, 0.3);
    --bg-sparkles-r2: rgba(230, 245, 238, 0.26);
    --bg-sparkles-g1: rgba(248, 252, 250, 0.98);
    --bg-sparkles-g2: rgba(237, 246, 241, 0.96);
    --bg-sparkles-g3: rgba(244, 250, 247, 0.98);
  }

  [data-theme="purple"] {
    --accent-1: #6c3bb8;
    --accent-2: #c5a6ff;
    --accent-3: #3b1a6f;
    --accent-text: #6c3bb8;
    --accent-text-strong: #3b1a6f;
    --accent-muted: #9b6eeb;
    --accent-soft: #f4efff;
    --accent-soft-strong: #e6dbff;
    --accent-soft-muted: rgba(244, 239, 255, 0.6);
    --accent-soft-faint: rgba(244, 239, 255, 0.5);
    --accent-border: #d8c8ff;
    --accent-border-strong: #c5adff;
    --accent-border-muted: rgba(216, 200, 255, 0.8);
    --accent-icon: #6c3bb8;
    --focus-ring: #c5a6ff;
    --chip-bg: rgba(255, 255, 255, 0.86);
    --chip-border: rgba(210, 195, 235, 0.65);
    --chip-text: #6c3bb8;
    --card-border-1: rgba(195, 175, 230, 0.55);
    --card-border-2: rgba(232, 220, 255, 0.6);
    --bg-romance-r1: rgba(214, 200, 242, 0.35);
    --bg-romance-r2: rgba(232, 220, 255, 0.3);
    --bg-romance-g1: rgba(251, 248, 255, 0.98);
    --bg-romance-g2: rgba(242, 235, 255, 0.95);
    --bg-romance-g3: rgba(248, 243, 255, 0.98);
    --bg-sparkles-r1: rgba(220, 206, 245, 0.3);
    --bg-sparkles-r2: rgba(238, 226, 255, 0.26);
    --bg-sparkles-g1: rgba(251, 248, 255, 0.98);
    --bg-sparkles-g2: rgba(244, 238, 255, 0.96);
    --bg-sparkles-g3: rgba(249, 245, 255, 0.98);
  }

  [data-theme="ocean-mist"] {
    --accent-1: #2c7d8f;
    --accent-2: #9ddde0;
    --accent-3: #204956;
    --accent-text: #286d7c;
    --accent-text-strong: #204956;
    --accent-muted: #6aa7b3;
    --accent-soft: #edf8f9;
    --accent-soft-strong: #d8eef0;
    --accent-soft-muted: rgba(237, 248, 249, 0.62);
    --accent-soft-faint: rgba(237, 248, 249, 0.52);
    --accent-border: #c7e4e7;
    --accent-border-strong: #add4d8;
    --accent-border-muted: rgba(199, 228, 231, 0.8);
    --accent-icon: #2c7d8f;
    --focus-ring: #9ddde0;
    --chip-bg: rgba(255, 255, 255, 0.88);
    --chip-border: rgba(190, 220, 224, 0.65);
    --chip-text: #286d7c;
    --card-border-1: rgba(168, 210, 217, 0.56);
    --card-border-2: rgba(218, 238, 241, 0.6);
    --bg-romance-r1: rgba(185, 222, 226, 0.35);
    --bg-romance-r2: rgba(210, 236, 239, 0.3);
    --bg-romance-g1: rgba(248, 252, 253, 0.98);
    --bg-romance-g2: rgba(235, 246, 248, 0.95);
    --bg-romance-g3: rgba(243, 250, 251, 0.98);
    --bg-sparkles-r1: rgba(190, 226, 230, 0.3);
    --bg-sparkles-r2: rgba(218, 240, 242, 0.26);
    --bg-sparkles-g1: rgba(248, 252, 253, 0.98);
    --bg-sparkles-g2: rgba(238, 247, 248, 0.96);
    --bg-sparkles-g3: rgba(244, 250, 251, 0.98);
  }

  [data-theme="forest-ember"] {
    --accent-1: #2f5f47;
    --accent-2: #d6a76a;
    --accent-3: #5b2f24;
    --accent-text: #35654d;
    --accent-text-strong: #2a4f3d;
    --accent-muted: #8f9f74;
    --accent-soft: #f2f8f4;
    --accent-soft-strong: #e4efe8;
    --accent-soft-muted: rgba(242, 248, 244, 0.62);
    --accent-soft-faint: rgba(242, 248, 244, 0.52);
    --accent-border: #cfe0d6;
    --accent-border-strong: #bccfbf;
    --accent-border-muted: rgba(207, 224, 214, 0.8);
    --accent-icon: #2f5f47;
    --focus-ring: #d6a76a;
    --chip-bg: rgba(255, 255, 255, 0.88);
    --chip-border: rgba(203, 218, 208, 0.65);
    --chip-text: #2f5f47;
    --card-border-1: rgba(180, 205, 190, 0.56);
    --card-border-2: rgba(230, 214, 188, 0.54);
    --bg-romance-r1: rgba(195, 222, 205, 0.35);
    --bg-romance-r2: rgba(224, 208, 180, 0.3);
    --bg-romance-g1: rgba(249, 252, 250, 0.98);
    --bg-romance-g2: rgba(238, 245, 240, 0.95);
    --bg-romance-g3: rgba(246, 250, 247, 0.98);
    --bg-sparkles-r1: rgba(199, 224, 209, 0.3);
    --bg-sparkles-r2: rgba(228, 214, 193, 0.26);
    --bg-sparkles-g1: rgba(249, 252, 250, 0.98);
    --bg-sparkles-g2: rgba(240, 246, 242, 0.96);
    --bg-sparkles-g3: rgba(246, 250, 247, 0.98);
  }

  [data-theme="mono-dark"] {
    --accent-1: #1f1f25;
    --accent-2: #b9a07a;
    --accent-3: #4b4b57;
    --accent-text: #2b2b33;
    --accent-text-strong: #1f1f25;
    --accent-muted: #8a8a95;
    --accent-soft: #f1f1f4;
    --accent-soft-strong: #e1e1e6;
    --accent-soft-muted: rgba(241, 241, 244, 0.6);
    --accent-soft-faint: rgba(241, 241, 244, 0.5);
    --accent-border: #d3d3da;
    --accent-border-strong: #c1c1cb;
    --accent-border-muted: rgba(211, 211, 218, 0.8);
    --accent-icon: #1f1f25;
    --focus-ring: #b9a07a;
    --chip-bg: rgba(255, 255, 255, 0.86);
    --chip-border: rgba(200, 200, 210, 0.6);
    --chip-text: #2b2b33;
    --card-border-1: rgba(195, 195, 205, 0.55);
    --card-border-2: rgba(235, 235, 240, 0.6);
    --bg-romance-r1: rgba(220, 220, 228, 0.35);
    --bg-romance-r2: rgba(236, 236, 242, 0.3);
    --bg-romance-g1: rgba(252, 252, 253, 0.98);
    --bg-romance-g2: rgba(244, 244, 247, 0.95);
    --bg-romance-g3: rgba(249, 249, 251, 0.98);
    --bg-sparkles-r1: rgba(225, 225, 232, 0.3);
    --bg-sparkles-r2: rgba(240, 240, 245, 0.26);
    --bg-sparkles-g1: rgba(252, 252, 253, 0.98);
    --bg-sparkles-g2: rgba(246, 246, 248, 0.96);
    --bg-sparkles-g3: rgba(250, 250, 252, 0.98);
  }

  [data-theme="mono-light"] {
    --accent-1: #b7bcc5;
    --accent-2: #f2f4f7;
    --accent-3: #7d8590;
    --accent-text: #5c6470;
    --accent-text-strong: #3f4650;
    --accent-muted: #7f8893;
    --accent-soft: #f7f8fa;
    --accent-soft-strong: #eceff3;
    --accent-soft-muted: rgba(247, 248, 250, 0.6);
    --accent-soft-faint: rgba(247, 248, 250, 0.5);
    --accent-border: #e0e3e8;
    --accent-border-strong: #bcc3cc;
    --accent-border-muted: rgba(224, 227, 232, 0.8);
    --accent-icon: #646c77;
    --focus-ring: #6f7782;
    --chip-bg: rgba(255, 255, 255, 0.9);
    --chip-border: rgba(194, 199, 207, 0.62);
    --chip-text: #505864;
    --card-border-1: rgba(194, 199, 207, 0.58);
    --card-border-2: rgba(240, 242, 246, 0.6);
    --bg-romance-r1: rgba(225, 228, 233, 0.35);
    --bg-romance-r2: rgba(240, 242, 246, 0.3);
    --bg-romance-g1: rgba(252, 252, 253, 0.98);
    --bg-romance-g2: rgba(246, 247, 249, 0.95);
    --bg-romance-g3: rgba(250, 251, 252, 0.98);
    --bg-sparkles-r1: rgba(230, 232, 236, 0.3);
    --bg-sparkles-r2: rgba(243, 244, 247, 0.26);
    --bg-sparkles-g1: rgba(252, 252, 253, 0.98);
    --bg-sparkles-g2: rgba(247, 248, 250, 0.96);
    --bg-sparkles-g3: rgba(251, 252, 253, 0.98);
  }

  [data-theme="lavender-noir"] {
    --accent-1: #171227;
    --accent-2: #b493ff;
    --accent-3: #2f2448;
    --accent-text: #d4c3ff;
    --accent-text-strong: #b493ff;
    --accent-muted: #9e86c8;
    --accent-soft: rgba(24, 18, 40, 0.94);
    --accent-soft-strong: rgba(36, 28, 58, 0.95);
    --accent-soft-muted: rgba(24, 18, 40, 0.62);
    --accent-soft-faint: rgba(24, 18, 40, 0.5);
    --accent-border: rgba(135, 115, 180, 0.38);
    --accent-border-strong: rgba(160, 140, 210, 0.54);
    --accent-border-muted: rgba(135, 115, 180, 0.33);
    --accent-icon: #b493ff;
    --focus-ring: #b493ff;
    --chip-bg: rgba(24, 18, 40, 0.88);
    --chip-border: rgba(140, 120, 190, 0.4);
    --chip-text: #e5dbff;
    --card-border-1: rgba(115, 96, 165, 0.58);
    --card-border-2: rgba(42, 33, 64, 0.82);
    --bg-romance-r1: rgba(82, 62, 130, 0.36);
    --bg-romance-r2: rgba(45, 33, 70, 0.45);
    --bg-romance-g1: rgba(13, 10, 22, 1);
    --bg-romance-g2: rgba(18, 14, 30, 0.98);
    --bg-romance-g3: rgba(11, 8, 18, 0.98);
    --bg-sparkles-r1: rgba(78, 60, 126, 0.34);
    --bg-sparkles-r2: rgba(45, 33, 72, 0.4);
    --bg-sparkles-g1: rgba(13, 10, 22, 1);
    --bg-sparkles-g2: rgba(18, 14, 30, 0.98);
    --bg-sparkles-g3: rgba(11, 8, 18, 0.98);
  }

  [data-theme="midnight"] {
    --accent-1: #0c111c;
    --accent-2: #6dd3d6;
    --accent-3: #1c2433;
    --accent-text: #a9e4e6;
    --accent-text-strong: #6dd3d6;
    --accent-muted: #84a7c8;
    --accent-soft: rgba(20, 24, 34, 0.95);
    --accent-soft-strong: rgba(28, 34, 48, 0.95);
    --accent-soft-muted: rgba(20, 24, 34, 0.6);
    --accent-soft-faint: rgba(20, 24, 34, 0.5);
    --accent-border: rgba(110, 130, 160, 0.35);
    --accent-border-strong: rgba(130, 150, 180, 0.5);
    --accent-border-muted: rgba(110, 130, 160, 0.3);
    --accent-icon: #6dd3d6;
    --focus-ring: #6dd3d6;
    --chip-bg: rgba(20, 24, 34, 0.85);
    --chip-border: rgba(110, 130, 160, 0.4);
    --chip-text: #dbe7f7;
    --card-border-1: rgba(90, 110, 140, 0.55);
    --card-border-2: rgba(30, 40, 58, 0.8);
    --bg-romance-r1: rgba(45, 76, 115, 0.35);
    --bg-romance-r2: rgba(30, 44, 70, 0.45);
    --bg-romance-g1: rgba(9, 12, 18, 1);
    --bg-romance-g2: rgba(12, 16, 26, 0.98);
    --bg-romance-g3: rgba(8, 10, 16, 0.98);
    --bg-sparkles-r1: rgba(40, 70, 110, 0.35);
    --bg-sparkles-r2: rgba(24, 36, 58, 0.4);
    --bg-sparkles-g1: rgba(9, 12, 18, 1);
    --bg-sparkles-g2: rgba(12, 16, 26, 0.98);
    --bg-sparkles-g3: rgba(8, 10, 16, 0.98);
  }
}

@layer components {
  .app-surface {
    @apply bg-white/80 backdrop-blur-xl border border-white/60 shadow-soft rounded-3xl;
  }

  .valentine-panel {
    @apply app-surface relative overflow-hidden;
  }

  .valentine-panel::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(140deg, rgba(255, 255, 255, 0.9), rgba(255, 248, 244, 0.6));
    opacity: 0.55;
    pointer-events: none;
  }

  .valentine-panel > * {
    position: relative;
    z-index: 1;
  }

  .focus-ring {
    @apply focus-visible:outline-none;
  }

  .focus-ring:focus-visible {
    outline: 2px solid var(--focus-ring);
    outline-offset: 2px;
  }

  .valentine-card {
    position: relative;
    overflow: hidden;
    border-radius: 1.5rem;
    background: rgba(255, 255, 255, 0.88);
    box-shadow: 0 20px 40px -28px rgba(25, 10, 24, 0.5);
  }

  .valentine-card::before {
    content: "";
    position: absolute;
    inset: 0;
    padding: 1px;
    border-radius: 1.5rem;
    background: linear-gradient(135deg, var(--card-border-1), var(--card-border-2));
    mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    mask-composite: exclude;
    -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask-composite: xor;
    pointer-events: none;
  }

  .valentine-chip {
    @apply inline-flex items-center gap-2 rounded-full px-4 py-2 text-xs font-semibold uppercase tracking-[0.24em] shadow-soft;
    border: 1px solid var(--chip-border);
    background: var(--chip-bg);
    color: var(--chip-text);
  }

  .btn-primary {
    background: linear-gradient(120deg, var(--accent-1), var(--accent-2) 45%, var(--accent-3) 100%);
    background-size: 200% 200%;
    color: #fff;
    box-shadow: 0 18px 40px -26px rgba(20, 9, 24, 0.6);
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 24px 48px -28px rgba(20, 9, 24, 0.7);
  }

  .btn-secondary {
    background: rgba(255, 255, 255, 0.8);
    border: 1px solid var(--accent-border);
    color: #3a2637;
  }

  .btn-secondary:hover {
    border-color: var(--accent-border-strong);
    transform: translateY(-2px);
  }

  .btn-ghost {
    background: transparent;
    color: #3a2637;
  }

  .btn-ghost:hover {
    background: rgba(255, 220, 235, 0.35);
  }

  .input-shell {
    @apply flex items-center gap-3 rounded-2xl border border-white/70 bg-white/80 px-4 py-3 shadow-soft;
  }

  .input-field {
    @apply w-full rounded-2xl border border-white/70 bg-white/80 px-4 py-3 text-base text-ink-500 shadow-soft placeholder:text-ink-300 focus-ring;
  }

  .gift-card-title {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .gift-card-description {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .recap-gift-title {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .input-shell:focus-within {
    border-color: var(--accent-border-strong);
    box-shadow: 0 16px 30px -26px rgba(20, 9, 24, 0.6);
  }

  .link-soft {
    @apply text-sm font-medium;
    color: var(--accent-text);
    touch-action: manipulation;
  }

  .link-soft:hover {
    color: var(--accent-text-strong);
  }

  .skip-link {
    position: absolute;
    left: 1.5rem;
    top: 1.5rem;
    transform: translateY(-200%);
    padding: 0.75rem 1.25rem;
    border-radius: 9999px;
    background: rgba(255, 255, 255, 0.9);
    color: #2a1c2b;
    font-weight: 600;
    z-index: 20;
    box-shadow: 0 12px 30px -20px rgba(20, 9, 24, 0.6);
    transition: transform 200ms ease;
  }

  .skip-link:focus-visible {
    transform: translateY(0);
  }

  .confetti-layer {
    position: fixed;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
    z-index: 40;
  }

  .confetti-piece {
    position: absolute;
    top: -12%;
    left: var(--x, 50%);
    width: var(--size, 10px);
    height: calc(var(--size, 10px) * 0.55);
    background: var(--color, #f05d88);
    border-radius: 3px;
    opacity: 0;
    transform: translateY(-10%) rotate(var(--rot, 0deg));
    animation: confetti-fall var(--duration, 1500ms) ease-out var(--delay, 0ms) forwards;
  }

  [data-theme="midnight"] {
    color: #e8edf5;
  }

  [data-theme="midnight"] .text-ink-500 {
    color: #e8edf5;
  }

  [data-theme="midnight"] .text-ink-400 {
    color: #c9d3e3;
  }

  [data-theme="midnight"] .text-ink-300 {
    color: #aab6c9;
  }

  [data-theme="midnight"] .text-ink-300\/90 {
    color: rgba(170, 182, 201, 0.9);
  }

  [data-theme="midnight"] .text-ink-300\/80 {
    color: rgba(170, 182, 201, 0.8);
  }

  [data-theme="midnight"] .app-surface {
    background: rgba(14, 18, 26, 0.92) !important;
    border-color: rgba(120, 140, 170, 0.35) !important;
    box-shadow: 0 20px 40px -28px rgba(3, 6, 12, 0.8);
  }

  [data-theme="midnight"] .valentine-card {
    background: rgba(12, 16, 24, 0.88) !important;
    border-color: rgba(120, 140, 170, 0.35) !important;
    box-shadow: 0 24px 50px -30px rgba(3, 6, 12, 0.85);
  }

  [data-theme="midnight"] .valentine-card::before {
    background: linear-gradient(
      135deg,
      rgba(110, 140, 180, 0.6),
      rgba(30, 40, 58, 0.9)
    );
  }

  [data-theme="midnight"] .bg-white\/90 {
    background: rgba(16, 20, 30, 0.9) !important;
  }

  [data-theme="midnight"] .bg-white\/85 {
    background: rgba(16, 20, 30, 0.86) !important;
  }

  [data-theme="midnight"] .bg-white\/80 {
    background: rgba(16, 20, 30, 0.82) !important;
  }

  [data-theme="midnight"] .bg-white\/70 {
    background: rgba(16, 20, 30, 0.76) !important;
  }

  [data-theme="midnight"] .border-white\/80 {
    border-color: rgba(130, 150, 180, 0.5) !important;
  }

  [data-theme="midnight"] .border-white\/70 {
    border-color: rgba(120, 140, 170, 0.42) !important;
  }

  [data-theme="midnight"] .border-white\/60 {
    border-color: rgba(110, 130, 160, 0.35) !important;
  }

  [data-theme="midnight"] .btn-secondary {
    background: rgba(20, 24, 34, 0.9) !important;
    border-color: rgba(120, 140, 170, 0.5) !important;
    color: #e8edf5;
  }

  [data-theme="midnight"] .btn-ghost {
    color: #e8edf5;
  }

  [data-theme="midnight"] .btn-ghost:hover {
    background: rgba(255, 255, 255, 0.08);
  }

  [data-theme="midnight"] .input-shell {
    background: rgba(18, 22, 32, 0.9) !important;
    border-color: rgba(120, 140, 170, 0.35) !important;
  }

  [data-theme="midnight"] .input-field {
    background: rgba(24, 30, 44, 0.95) !important;
    border-color: rgba(140, 165, 200, 0.45) !important;
    color: #eef2f8;
  }

  [data-theme="midnight"] .input-field::placeholder {
    color: rgba(200, 210, 225, 0.6);
  }

  [data-theme="midnight"] .skip-link {
    background: rgba(20, 24, 34, 0.95);
    color: #f2f6ff;
  }

  [data-theme="midnight"] .link-soft {
    color: #8fe2e6;
  }

  [data-theme="midnight"] .link-soft:hover {
    color: #d2f3f6;
  }

  [data-theme="lavender-noir"] {
    color: #f1edff;
  }

  [data-theme="lavender-noir"] .text-ink-500 {
    color: #f1edff;
  }

  [data-theme="lavender-noir"] .text-ink-400 {
    color: #d5cbea;
  }

  [data-theme="lavender-noir"] .text-ink-300 {
    color: #b8abcf;
  }

  [data-theme="lavender-noir"] .text-ink-300\/90 {
    color: rgba(184, 171, 207, 0.9);
  }

  [data-theme="lavender-noir"] .text-ink-300\/80 {
    color: rgba(184, 171, 207, 0.8);
  }

  [data-theme="lavender-noir"] .app-surface {
    background: rgba(15, 11, 25, 0.92) !important;
    border-color: rgba(125, 108, 170, 0.38) !important;
    box-shadow: 0 20px 40px -28px rgba(4, 3, 10, 0.85);
  }

  [data-theme="lavender-noir"] .valentine-card {
    background: rgba(13, 10, 22, 0.9) !important;
    border-color: rgba(130, 112, 175, 0.4) !important;
    box-shadow: 0 24px 50px -30px rgba(4, 3, 10, 0.9);
  }

  [data-theme="lavender-noir"] .valentine-card::before {
    background: linear-gradient(
      135deg,
      rgba(150, 130, 206, 0.65),
      rgba(44, 34, 70, 0.92)
    );
  }

  [data-theme="lavender-noir"] .bg-white\/90 {
    background: rgba(19, 14, 30, 0.9) !important;
  }

  [data-theme="lavender-noir"] .bg-white\/85 {
    background: rgba(19, 14, 30, 0.86) !important;
  }

  [data-theme="lavender-noir"] .bg-white\/80 {
    background: rgba(19, 14, 30, 0.82) !important;
  }

  [data-theme="lavender-noir"] .bg-white\/70 {
    background: rgba(19, 14, 30, 0.76) !important;
  }

  [data-theme="lavender-noir"] .border-white\/80 {
    border-color: rgba(155, 135, 210, 0.52) !important;
  }

  [data-theme="lavender-noir"] .border-white\/70 {
    border-color: rgba(140, 120, 190, 0.44) !important;
  }

  [data-theme="lavender-noir"] .border-white\/60 {
    border-color: rgba(128, 110, 175, 0.36) !important;
  }

  [data-theme="lavender-noir"] .btn-secondary {
    background: rgba(24, 18, 40, 0.9) !important;
    border-color: rgba(145, 125, 195, 0.55) !important;
    color: #f1edff;
  }

  [data-theme="lavender-noir"] .btn-ghost {
    color: #f1edff;
  }

  [data-theme="lavender-noir"] .btn-ghost:hover {
    background: rgba(255, 255, 255, 0.08);
  }

  [data-theme="lavender-noir"] .input-shell {
    background: rgba(23, 18, 38, 0.9) !important;
    border-color: rgba(135, 115, 180, 0.4) !important;
  }

  [data-theme="lavender-noir"] .input-field {
    background: rgba(30, 24, 47, 0.95) !important;
    border-color: rgba(160, 140, 210, 0.45) !important;
    color: #f5f1ff;
  }

  [data-theme="lavender-noir"] .input-field::placeholder {
    color: rgba(215, 205, 238, 0.62);
  }

  [data-theme="lavender-noir"] .skip-link {
    background: rgba(24, 18, 40, 0.95);
    color: #f6f2ff;
  }

  [data-theme="lavender-noir"] .link-soft {
    color: #c9b0ff;
  }

  [data-theme="lavender-noir"] .link-soft:hover {
    color: #ede4ff;
  }
}

@layer utilities {
  .text-rose-gradient {
    background: linear-gradient(110deg, var(--accent-1) 0%, var(--accent-2) 45%, var(--accent-3) 100%);
    -webkit-background-clip: text;
    color: transparent;
  }

  .text-accent {
    color: var(--accent-text);
  }

  .text-accent-strong {
    color: var(--accent-text-strong);
  }

  .text-accent-muted {
    color: var(--accent-muted);
  }

  .bg-accent {
    background-color: var(--accent-1);
  }

  .bg-accent-soft {
    background-color: var(--accent-soft);
  }

  .bg-accent-soft-strong {
    background-color: var(--accent-soft-strong);
  }

  .bg-accent-soft-muted {
    background-color: var(--accent-soft-muted);
  }

  .bg-accent-soft-faint {
    background-color: var(--accent-soft-faint);
  }

  .border-accent {
    border-color: var(--accent-border);
  }

  .border-accent-strong {
    border-color: var(--accent-border-strong);
  }

  .border-accent-muted {
    border-color: var(--accent-border-muted);
  }

  .hover-accent-soft:hover {
    background-color: var(--accent-soft);
  }

  .hover-text-accent-strong:hover {
    color: var(--accent-text-strong);
  }

  .text-shadow-soft {
    text-shadow: 0 18px 36px rgba(25, 10, 24, 0.12);
  }

  .valentine-shell {
    position: relative;
    isolation: isolate;
    overflow: hidden;
  }

  .bg-romance {
    background-image:
      radial-gradient(640px 260px at 85% 10%, var(--bg-romance-r1), transparent 60%),
      radial-gradient(520px 240px at 10% 80%, var(--bg-romance-r2), transparent 60%),
      linear-gradient(140deg, var(--bg-romance-g1), var(--bg-romance-g2) 52%, var(--bg-romance-g3));
  }

  .bg-sparkles {
    background-image:
      radial-gradient(520px 240px at 70% 15%, var(--bg-sparkles-r1), transparent 60%),
      radial-gradient(520px 260px at 18% 78%, var(--bg-sparkles-r2), transparent 60%),
      linear-gradient(150deg, var(--bg-sparkles-g1), var(--bg-sparkles-g2) 42%, var(--bg-sparkles-g3));
  }

  @media (prefers-reduced-motion: reduce) {
    .animate-wiggle,
    .animate-floatSlow,
    .animate-drift,
    .animate-shimmer {
      animation: none !important;
    }

    .btn-primary,
    .btn-secondary,
    .btn-ghost,
    .valentine-card,
    .input-shell,
    .link-soft,
    .skip-link,
    .confetti-piece {
      transition: none !important;
    }
  }

  @keyframes confetti-fall {
    0% {
      opacity: 0;
      transform: translateY(-10%) rotate(0deg);
    }
    10% {
      opacity: 1;
    }
    100% {
      opacity: 0;
      transform: translateY(110vh) rotate(240deg);
    }
  }
}
